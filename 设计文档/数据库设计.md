# 数据库设计

## 用户(customer)：
数据名|数据类型|说明
--|:--|:--
id |longint|用户的数据库中的id
userid|varchar|用户的微信id
username|varchar|用户的微信名
logintimes|int|登录次数
level|int|用户的会员等级
credit|int|用户的消费积分
createtime|timestamp|创建时间
updatetime|timestamp|修改时间

========================================  
<br/>

## 服务员(waiter)：
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
userid|varchar|微信id
name|varchar|微信名字
logintimes|int|登录次数
enable|tinyint|是否有效
createtime|timestamp|创建时间
updatetime|timestamp|修改时间

========================================  
<br/>
## 厨师（cooker）：
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
userid|varchar|微信id
name|varchar|微信名字
logintimes|int|登录次数
enable|tinyint|是否有效
role|int|厨师属于哪一种（凉品，熟食）
createtime|timestamp|创建时间
updatetime|timestamp|修改时间

========================================  
<br/>
## 管理员（admin）:
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
name|varchar|姓名
logintimes|int|登录次数
createtime|timestamp|创建时间
updatetime|timestamp|修改时间

========================================  
<br/>

## 菜单（menu）
数据名|数据类型|说明
--|:--|:--代
id|longint|数据库中的id
name|varchar|菜单名字
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 菜品（food）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
name|varchar|菜品名字
menuid|longint|所属菜单的名字
stylesid|varchar(255)|口味id集合
role|int|类型（凉品，熟食）
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 口味（style）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
name|varchar(255)|口味名称
createtime|int|创建时间
updatetime|int|修改时间


========================================  
<br/>

## 点餐记录（orderRecord）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
userid|longint|微信id
foodsid|varchar(255)|点的菜的id集合
settlementAmount|double|折扣后的结算价格
originalAmount|double|结算前的价格
preferenceid|longid|折扣id
discountid|longid|优惠id 
createtime|timestamp|创建的时间

========================================  
<br/>

## 待付款记录（non-payment Record）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
userid|longint|微信id
foodsid|varchar(255)|点的菜的id集合
settlementAmount|double|折扣后的结算价格
originalAmount|double|结算前的价格
preferenceid|longid|折扣id
discountid|longid|优惠id 
expirationtime|timestamp|订单到期时间
createtime|int|创建时间
updatetime|int|修改时间


========================================  
<br/>

## 常用菜单（frequentlyUsedMenu）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
userid|longint|微信id
foodsid|varchar(255)|常用菜品的id集合
stylesid|varchar(255)|常用菜品的口味的id集合
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 厨师分配记录（cookerDeliveryRecord）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
orderrecordid|longint|点餐记录
foodid|longid|制作菜品的id
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 服务员分配记录（waiterDeliveryRecord）
数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
orderrecordid|longint|点餐记录
foodid|longid|分配菜品的id
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 折扣信息记录（preferenceRecord）
保存折扣信息（积分满多少，可以获得多少的折扣）  
<br/>

数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
preference|double|折扣（<1,>0）
createtime|int|创建时间
updatetime|int|修改时间

========================================  
<br/>

## 优惠信息记录（discountRecord）
保存优惠信息（直接在原价上折扣）  
<br/>

数据名|数据类型|说明
--|:--|:--
id|longint|数据库中的id
discount|double|优惠（<1,>0）
createtime|int|创建时间
updatetime|int|修改时间












